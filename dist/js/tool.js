!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){n(1),e.exports=n(6)},function(e,t,n){Nova.booting(function(e,t,i){e.component("form-panel",n(2))})},function(e,t,n){var i=n(3)(n(4),n(5),!1,null,null,null);e.exports=i.exports},function(e,t){e.exports=function(e,t,n,i,r,o){var a,u=e=e||{},s=typeof e.default;"object"!==s&&"function"!==s||(a=e,u=e.default);var l,d="function"==typeof u?u.options:u;if(t&&(d.render=t.render,d.staticRenderFns=t.staticRenderFns,d._compiled=!0),n&&(d.functional=!0),r&&(d._scopeId=r),o?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},d._ssrRegister=l):i&&(l=i),l){var c=d.functional,f=c?d.render:d.beforeCreate;c?(d._injectStyles=l,d.render=function(e,t){return l.call(t),f(e,t)}):d.beforeCreate=f?[].concat(f,l):[l]}return{esModule:a,exports:u,options:d}}},function(e,t,n){"use strict";function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{shownViaNewRelationModal:{type:Boolean,default:!1},panel:{type:Object,required:!0},name:{default:"Panel"},mode:{type:String,default:"form"},fields:{type:Array,default:[]},validationErrors:{type:Object,required:!0},resourceName:{type:String,required:!0},resourceId:{type:[Number,String]},viaResource:{type:String},viaResourceId:{type:[Number,String]},viaRelationship:{type:String}},data:function(){return{visibleFields:[]}},mounted:function(){var e=this;this.fillVisibleFields(),this.watchedComponents.forEach(function(t){t.$watch(e.findWatchableComponentAttribute(t),function(t){e.update()},{immediate:!0})})},methods:{findWatchableComponentAttribute:function(e){var t=void 0;switch(e.field.component){case"belongs-to-many-field":case"belongs-to-field":t="selectedResource";break;case"morph-to-field":t="fieldTypeName";break;default:t="value"}return t},componentIsDependency:function(e){return void 0!==e.field&&0!==this.getFieldsDependency.filter(function(t){return e.field.attribute===t}).length},update:function(){var e=this;e.fields.filter(function(e){return void 0!=e.dependsOn}).forEach(function(t){var n=t.dependsOn.map(function(t){return e.getValueComponentDependency(t)});Nova.request().post("/nova-vendor/conditional-field/condition/"+e.resourceName,{attribute:t.attribute,values:n}).then(function(n){e.visibleFields.find(function(e){return e.attribute==t.attribute}).visible=n.data.result})})},getValueComponentDependency:function(e){var t=this.watchedComponents.find(function(t){return t.field.attribute===e});return{attribute:t.field.attribute,value:t.value}},getVisibleComponent:function(e){var t=this.visibleFields.find(function(t){return t.attribute==e.attribute});return null==t||t.visible},fillVisibleFields:function(){var e=this;this.fields.forEach(function(t){e.visibleFields.push({attribute:t.attribute,visible:!0})})}},computed:{watchedComponents:function(){var e=this;return this.$children.find(function(t){return t.$children.length===e.fields.length}).$children.filter(function(t){return e.componentIsDependency(t)})},getFieldsDependency:function(){var e=[];return this.fields.filter(function(e){return void 0!=e.dependsOn}).forEach(function(t){e=[].concat(i(t.dependsOn),i(e))}),e}}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.panel.fields.length>0?n("div",[n("heading",{class:e.panel.helpText?"mb-2":"mb-3",attrs:{level:1}},[e._v("\n        "+e._s(e.panel.name)+"\n    ")]),e._v(" "),e.panel.helpText?n("p",{staticClass:"text-80 text-sm font-semibold italic mb-3",domProps:{innerHTML:e._s(e.panel.helpText)}}):e._e(),e._v(" "),n("card",e._l(e.panel.fields,function(t,i){return e.getVisibleComponent(t)?n(e.mode+"-"+t.component,{key:i,tag:"component",class:{"remove-bottom-border":i==e.panel.fields.length-1},attrs:{errors:e.validationErrors,"resource-id":e.resourceId,"resource-name":e.resourceName,field:t,"via-resource":e.viaResource,"via-resource-id":e.viaResourceId,"via-relationship":e.viaRelationship,"shown-via-new-relation-modal":e.shownViaNewRelationModal},on:{"file-deleted":function(t){return e.$emit("update-last-retrieved-at-timestamp")},"file-upload-started":function(t){return e.$emit("file-upload-started")},"file-upload-finished":function(t){return e.$emit("file-upload-finished")}}}):e._e()}),1)],1):e._e()},staticRenderFns:[]}},function(e,t){}]);